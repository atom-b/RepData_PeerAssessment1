# Reproducible Research: Peer Assessment 1


## Loading and preprocessing the data

Load the activity data into a data.table (we like data.tables as they're fast), and convert the date column from characters to Dates.

```{r}
library(data.table)
actdata <- fread("activity/activity.csv")
actdata[,date:= as.Date( date, format = "%Y-%m-%d")]
```

## What is mean total number of steps taken per day?
Create a data.table with the sum of steps for each day, excluding any observations missing step data.
```{r, echo=TRUE}
dailySteps <- actdata[!is.na(steps),sum(steps), by=date]
setnames(dailySteps,"V1","daily.steps")
```
<!---
knitr won't preview dailySteps based on a setnames() call, so we do it ourselves
-->
```{r, echo=FALSE}
print(dailySteps, topn=5)
```
### *Make a histogram of the total number of steps taken each day*
```{r dailystephist, echo=TRUE, tidy=FALSE}
hist(dailySteps$daily.steps, 
      breaks = 5,
      col = "cornflowerblue",
      main = "Histogram of Steps Per Day",
      xlab = "Steps Per Day",
      ylab = "Frequency (Days)")
```
### *Calculate and report the mean and median total number of steps taken per day*
```{r dailystepmeanmed, echo=TRUE}
mean(dailySteps$daily.steps)
median(dailySteps$daily.steps)
```
## What is the average daily activity pattern?
Create a data.table with the mean of steps for each interval, excluding any observations missing step data.
```{r, echo=TRUE}
intervalSteps <- actdata[!is.na(steps),mean(steps), by=interval]
setnames(intervalSteps,"V1","mean.steps")
```
<!---
knitr won't preview intervalSteps based on a setnames() call, so we do it here
-->
```{r, echo=FALSE}
print(dailySteps, topn=5)
```

### *A time series plot of the 5-minute interval and the mean steps taken in that interval across all days.*
```{r meanstepsbyinterval, echo=TRUE, tidy=FALSE}
plot(x = intervalSteps$interval, y = intervalSteps$mean.steps,
     type = "l",
      col = "cornflowerblue",
      main = "Mean Steps By Interval",
      xlab = "Interval",
      ylab = "Mean Steps")
```

### *Which 5-minute interval, on average across all the days in the dataset, contains the maximum number of steps?*
```{r, echo=TRUE}
intervalSteps[mean.steps == max(intervalSteps$mean.steps)]
```
## Imputing missing values



## Are there differences in activity patterns between weekdays and weekends?
